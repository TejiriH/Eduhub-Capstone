apiVersion: external-secrets.io/v1 
kind: ExternalSecret
metadata:
  name: catalog-service-external-secret
  namespace: eduhub
spec:
  refreshInterval: 1h           
  secretStoreRef:
    name: aws-parameter-store   
    kind: SecretStore
  target:
    name: catalog-service-secret   
    creationPolicy: Owner
  data:
    # Catalog-specific parameters
    - secretKey: APP_NAME
      remoteRef:
        key: /prod/eduhub/catalog/APP_NAME
    - secretKey: APP_VERSION
      remoteRef:
        key: /prod/eduhub/catalog/APP_VERSION
    - secretKey: DEBUG
      remoteRef:
        key: /prod/eduhub/catalog/DEBUG
    - secretKey: ENVIRONMENT
      remoteRef:
        key: /prod/eduhub/services/NODE_ENV
    - secretKey: HOST
      remoteRef:
        key: /prod/eduhub/catalog/HOST
    - secretKey: PORT
      remoteRef:
        key: /prod/eduhub/catalog/PORT
    - secretKey: DATABASE_URL
      remoteRef:
        key: /prod/eduhub/catalog/DATABASE_URL
    - secretKey: REDIS_URL
      remoteRef:
        key: /prod/eduhub/catalog/REDIS_URL
    - secretKey: CACHE_TTL
      remoteRef:
        key: /prod/eduhub/catalog/CACHE_TTL
    - secretKey: JWT_SECRET_KEY
      remoteRef:
        key: /prod/eduhub/catalog/JWT_SECRET_KEY
    - secretKey: JWT_ALGORITHM
      remoteRef:
        key: /prod/eduhub/catalog/JWT_ALGORITHM
    - secretKey: AUTH_SERVICE_URL
      remoteRef:
        key: /prod/eduhub/auth/APP_URL
    - secretKey: DEFAULT_PAGE_SIZE
      remoteRef:
        key: /prod/eduhub/catalog/DEFAULT_PAGE_SIZE
    - secretKey: MAX_PAGE_SIZE
      remoteRef:
        key: /prod/eduhub/catalog/MAX_PAGE_SIZE
    - secretKey: CORS_ORIGINS
      remoteRef:
        key: /prod/eduhub/catalog/CORS_ORIGINS
    - secretKey: ROOT_PATH
      remoteRef:
        key: /prod/eduhub/catalog/ROOT_PATH


       